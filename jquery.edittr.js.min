/*
 * jquery.edittr
 * a jQuery plugin for making table rows editable
 * Copyright (c) Six Safety Systems (http://www.sixsafetysystems.com)
 * Authored by Stephen Peasley (http://www.speasley.com)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 * 
 * Version 0.1.1
 * Made in Canada
 */
!function(t){"use strict";t.fn.edittr=function(){function e(t){0==i.silent&&console.log(t)}var i=t.extend({cancelText:"Cancel",editText:"Edit",saveText:"Save",silent:!1,onCancel:function(){},onEdit:function(){},onSave:function(){}},arguments[0]||{}),a=t(this);a.is("table")?a.addClass("edittr"):a.find("table").addClass("edittr");var n=t(document).find("table.edittr");0==n.length&&e("jquery.edittr will not work without a table");var s=n.find("td.editable").length>0;return 0==s&&e('jquery.edittr requires at least one td element to have a class of "editable"'),n.find("td.editable").each(function(){var a=t(this).parent().find("td.edit");1==a.length?a.html('<a aria-label="'+i.editText+'" class="edit"><span>'+i.editText+'</span></a><a aria-label="'+i.saveText+'" class="save"><span>'+i.saveText+'</span></a><a aria-label="'+i.cancelText+'" class="cancel"><span>'+i.cancelText+"</span></a>"):e('jquery.edittr requires each editable row to contain one td with a class of "edit"')}),t(".edittr a.edit").on("click",function(e){a.addClass("editing"),t(this).closest("tr").find("td.editable").each(function(){t(this).data("original",t(this).text()).html('<input type="text" value="'+t(this).text()+'">')});var n=t(this).closest("tr").find("td.edit");n.find("a.cancel").css({display:"inline-block"}),n.find("a.edit").css({display:"none"}),n.find("a.save").css({display:"inline-block"}),i.onEdit.call(this),e.preventDefault()}),t(".edittr a.cancel").on("click",function(e){a.removeClass("editing"),t(this).closest("tr").find("td.editable").each(function(){t(this).html(t(this).data("original"))});var n=t(this).closest("tr").find("td.edit");n.find("a.cancel").css({display:"none"}),n.find("a.edit").css({display:"inline-block"}),n.find("a.save").css({display:"none"}),i.onCancel.call(this),e.preventDefault()}),t(".edittr a.save").on("click",function(e){a.removeClass("editing"),t(this).closest("tr").find("td.editable").each(function(){t(this).html(t(this).find("input").val())});var n=t(this).closest("tr").find("td.edit");n.find("a.cancel").css({display:"none"}),n.find("a.edit").css({display:"inline-block"}),n.find("a.save").css({display:"none"}),i.onSave.call(this),e.preventDefault()}),this}}(jQuery);